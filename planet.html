<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<title>Daydreamå°èªª</title>
<style>
:root{--bg:#f4f4f4;--card:#fff;--text:#111;--muted:#666;--border:#ddd;--accent:#4f46e5}
body.dark{--bg:#0f1220;--card:#151936;--text:#e8e9ff;--muted:#b6b8ff;--border:#2a2f6b;--accent:#8b8cff}
body.green{--bg:#eef7f1;--card:#f7fff9;--text:#103b2a;--muted:#3a6b57;--border:#cce3d6;--accent:#2f855a}
body{background:var(--bg);color:var(--text);font-family:Arial;padding:20px;transition:.2s}
.container{max-width:1100px;margin:auto}
.toolbar{display:flex;justify-content:space-between;align-items:center}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px;margin-top:16px}
.card{background:var(--card);border-radius:12px;padding:16px;border:1px solid var(--border);transition:.2s}
.card:hover{transform:translateY(-4px)}
.card h3{margin:0;cursor:pointer}
.card small{color:var(--muted)}
.chapter{cursor:pointer;color:var(--accent);margin:4px 0}
.chapter:hover{text-decoration:underline}
button{border-radius:6px;border:1px solid var(--border);padding:6px 10px;background:transparent;color:var(--text);cursor:pointer}
button.primary{background:var(--accent);color:#fff;border-color:var(--accent)}
input,textarea{width:100%;margin:6px 0;padding:8px;border-radius:6px;border:1px solid var(--border);background:transparent;color:var(--text)}
textarea{height:120px}
.viewer{margin-top:10px}
.reading body *{pointer-events:none}
.reading .viewer{pointer-events:auto}
.reading .toolbar, .reading input, .reading textarea, .reading button, .reading .chapter{display:none}


.like{cursor:pointer;font-size:18px;margin-left:6px}
.like.on{color:red}


.modeBtns button{margin-left:6px}
</style>
</head>
<body>
hello~æ­¡è¿ä¾†åˆ°Daydreamå°èªªç¶²ç«™
<div class="container">
<div class="toolbar">
<h1>ğŸ“š Daydreamå°èªª</h1>
<div class="modeBtns">
<button onclick="toggleDark()">ğŸŒ™</button>
<button onclick="toggleGreen()">ğŸŸ¢</button>
<button onclick="toggleReading()">ğŸ“–</button>
</div>
</div>


<h2>â• æ–°å¢å°èªª</h2>
<input id="novelTitle" placeholder="å°èªªåç¨±" />
<button class="primary" onclick="addNovel()">æ–°å¢å°èªª</button>


<div class="grid" id="bookGrid"></div>
</div>


<script>
let novels=JSON.parse(localStorage.getItem('novels'))||[]
let openIndex=null
let reading=false


const save=()=>localStorage.setItem('novels',JSON.stringify(novels))
const cn=n=>['é›¶','ä¸€','äºŒ','ä¸‰','å››','äº”','å…­','ä¸ƒ','å…«','ä¹','å'][n]||n
const chapterName=i=>`ç¬¬${cn(i+1)}ç« `


function toggleDark(){document.body.classList.toggle('dark');document.body.classList.remove('green');localStorage.setItem('mode','dark')}
function toggleGreen(){document.body.classList.toggle('green');document.body.classList.remove('dark');localStorage.setItem('mode','green')}
function toggleReading(){reading=!reading;document.body.classList.toggle('reading',reading)}


if(localStorage.getItem('mode')==='dark')document.body.classList.add('dark')
if(localStorage.getItem('mode')==='green')document.body.classList.add('green')


function addNovel(){const t=novelTitle.value.trim();if(!t)return alert('è«‹è¼¸å…¥åç¨±');novels.push({title:t,liked:false,chapters:[]});novelTitle.value='';save();render()}


function render(){
bookGrid.innerHTML=''
novels.forEach((n,i)=>{
const card=document.createElement('div')
card.className='card'
card.innerHTML=`<h3>${n.title}<span class='like ${n.liked?'on':''}'>â¤</span></h3><small>${n.chapters.length} ç« </small><div class='content'></div>`
card.querySelector('h3').onclick=()=>toggleOpen(i)
card.querySelector('.like').onclick=(e)=>{e.stopPropagation();n.liked=!n.liked;save();render()}
if(openIndex===i)renderChapters(card.querySelector('.content'),i)
bookGrid.appendChild(card)
})
}


function toggleOpen(i){openIndex=openIndex===i?null:i;render()}
</html>
